<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
               
                template="./template/main.xhtml"
                 xmlns:p="http://primefaces.org/ui">

    <ui:define name="main">
        
        <h:form id="formMain">
        
            <h:messages globalOnly="true" />

            <h:panelGrid columns="3">

                <h:outputLabel for="name" value="Medication Name" />
                <h:inputText id="name" value="#{createNewMedicationManagedBean.newMedication.name}" required="true" requiredMessage="Name is required" />
                <h:message for="name" />
                
                
                <h:outputLabel for="brand" value="Medication Brand" />
                <h:inputText id="brand" value="#{createNewMedicationManagedBean.newMedication.brand}" required="true" requiredMessage="Brand is required" />
                <h:message for="brand" />
                   
                
                <h:outputLabel for="prescription_quantity" value="Prescription Quantity" />
                <h:inputText id="prescription_quantity" value="#{createNewMedicationManagedBean.newMedication.prescription_quantity}" required="true" requiredMessage="Prescription Quantity is required" />
                <h:message for="prescription_quantity" />
                
                <h:outputLabel for="price_per_quantity" value="Price Per Quantity" />
                <h:inputText id="price_per_quantity" value="#{createNewMedicationManagedBean.newMedication.price_per_quantity}" required="true" requiredMessage="Price per quantity is required" />
                <h:message for="price_per_quantity" />
                   
                <h:outputLabel for="quantity" value="Quantity" />
                <h:inputText id="quantity" value="#{createNewMedicationManagedBean.newMedication.quantity_on_hand}" required="true" requiredMessage="Quantity is required" />
                <h:message for="quantity" />
                
                <h:outputLabel style="font-weight: bold;" for="selCMeds" value="Conflict Medications" />
               
                <h:message errorClass="errorTextsNoMarginLeft" fatalClass="errorTextsNoMarginLeft" for="selCMeds" />

                <p:selectManyMenu id="selCMeds" value="#{createNewMedicationManagedBean.conflict_med_ids}" filter ="true" showCheckbox="true">
                                  <f:selectItems value="#{createNewMedicationManagedBean.conflict_medicine}" var="Medication" itemValue="#{Medication.id}" itemLabel="#{Medication.name}"  />
                 </p:selectManyMenu>
                <h:outputLabel for="description" value="Medication Description" />
                <h:inputText id="description" value="#{createNewMedicationManagedBean.newMedication.description}"  />
                <h:message for="description" />
                 <p:column>
                 <p:outputLabel for="cFood" value="Conflicting Food " style="font-weight: bold;" />
                    </p:column>
                <p:autoComplete id="cFood" multiple ="true" value ="#{createNewMedicationManagedBean.cfoodArray}" 
                           >
                    <p:column>
                        <span id="cFood" style="width: 30px; height: 20px"/>
                <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{createNewMedicationManagedBean.foodName}"/>
            </p:column>
     
                   
                </p:autoComplete>
                <h:commandButton value ="Enter Food " actionListener="#{createNewMedicationManagedBean.addconflictFood}"/>
                
                <h:outputText value="" />
                <h:commandButton value="Create new Medication" actionListener="#{createNewMedicationManagedBean.createNewMedication}" />
                <h:outputText value="" />

            </h:panelGrid>
        
        </h:form>
        
    </ui:define>

</ui:composition>